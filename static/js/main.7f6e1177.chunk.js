(this["webpackJsonpsprint-retrospective-react"]=this["webpackJsonpsprint-retrospective-react"]||[]).push([[0],{216:function(e,t,n){},241:function(e,t){},243:function(e,t){},256:function(e,t){},258:function(e,t){},286:function(e,t){},287:function(e,t){},292:function(e,t){},294:function(e,t){},318:function(e,t){},349:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n(16),i=n.n(c),s=n(33),o=(n(216),n(11)),u=n(18),l=n(5),j=n.n(l),d=n(9),b=n(378),p=n(380),h=n(351),f=n(396),x=n(393),O=n(397),m=n(382),v=n(383),g=n(192),k=n(193),w=n.n(k),y=n(20),I=n.n(y),S="https://sprint-retrospective-api.herokuapp.com";function D(){return(D=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(S,"/users/").concat(t));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function C(){return(C=Object(d.a)(j.a.mark((function e(t,n,r,a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(S,"/users/register"),{email:t,password:n,firstName:r,lastName:a});case 3:if(201!==(c=e.sent).status){e.next=8;break}return e.abrupt("return",c.data);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function N(){return(N=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(S,"/users/"),{email:t,password:n});case 3:if(200!==(r=e.sent).status){e.next=9;break}return localStorage.setItem("token",r.data),e.abrupt("return",r.data);case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function W(){return(W=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(S,"/users/login-with-google"),{tokenId:t});case 3:if(200!==(n=e.sent).status){e.next=9;break}return localStorage.setItem("token",n.data),e.abrupt("return",n.data);case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function A(){return(A=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(S,"/users/login-with-facebook"),{id:t,accessToken:n});case 3:if(200!==(r=e.sent).status){e.next=9;break}return localStorage.setItem("token",r.data),e.abrupt("return",r.data);case 9:return e.abrupt("return",null);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function B(){return(B=Object(d.a)(j.a.mark((function e(t,n,r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.put("".concat(S,"/users/update"),{userID:t,firstName:n,lastName:r});case 3:if(200!==e.sent.status){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var F={login:function(e,t){return N.apply(this,arguments)},loginWithGoogle:function(e){return W.apply(this,arguments)},loginWithFacebook:function(e,t){return A.apply(this,arguments)},register:function(e,t,n,r){return C.apply(this,arguments)},getUser:function(e){return D.apply(this,arguments)},updateProfile:function(e,t,n){return B.apply(this,arguments)}},L=Object(b.a)((function(e){return{root:{flexGrow:1,padding:50},title:{color:"#283593",fontWeight:"bold"}}}));function T(e){var t=e.onSuccess,n=L(),c=Object(a.useState)(""),i=Object(o.a)(c,2),u=i[0],l=i[1],b=Object(a.useState)(""),k=Object(o.a)(b,2),y=k[0],I=k[1],S=function(){var e=Object(d.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F.login(u,y);case 3:(r=e.sent)?(console.log("[Login email-password] Nhan duoc Token: ",r),t()):console.log("[Login email-password] Khong nhan duoc token");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.loginWithGoogle(n.tokenId);case 2:(r=e.sent)?(console.log("[Login Google] Nhan duoc Token: ",r),t()):console.log("[Login Google] Khong nhan duoc token");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.loginWithFacebook(n.id,n.accessToken);case 2:(r=e.sent)?(console.log("[Login Facebook] Nhan duoc Token: ",r),t()):console.log("[Login Facebook] Khong nhan duoc token");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:n.root,children:Object(r.jsxs)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(h.a,{className:n.title,variant:"h4",children:"Login"})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)("form",{onSubmit:function(e){return S(e)},children:Object(r.jsxs)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(f.a,{children:Object(r.jsxs)(x.a,{width:350,children:[Object(r.jsx)(O.a,{htmlFor:"input-email",children:"Email"}),Object(r.jsx)(m.a,{id:"input-email",type:"text",fullWidth:!0,value:u,onInput:function(e){return l(String(e.target.value))}})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(f.a,{children:Object(r.jsxs)(x.a,{width:350,children:[Object(r.jsx)(O.a,{htmlFor:"input-password",children:"Password"}),Object(r.jsx)(m.a,{id:"input-password",type:"password",fullWidth:!0,value:y,onInput:function(e){return I(String(e.target.value))}})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(v.a,{type:"submit",children:"Login"})})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(h.a,{children:["Don't have an account? ",Object(r.jsx)(s.b,{to:"/register",children:"Register"})]})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(x.a,{children:Object(r.jsx)(g.GoogleLogin,{clientId:"656948797545-io59r3h73is40b8r755em4u5ghgntn21.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:D,onFailure:function(e){console.log("[Login Google] Failure: ",e)},cookiePolicy:"single_host_origin"})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(x.a,{children:Object(r.jsx)(w.a,{appId:"384712686083034",fields:"name,email,picture",callback:C})})})]})})}var G=Object(b.a)((function(e){return{root:{flexGrow:1,padding:50},title:{color:"#283593",fontWeight:"bold"}}}));function E(e){var t=e.onSuccess,n=G(),c=Object(a.useState)(""),i=Object(o.a)(c,2),u=i[0],l=i[1],b=Object(a.useState)(""),g=Object(o.a)(b,2),k=g[0],w=g[1],y=Object(a.useState)(""),I=Object(o.a)(y,2),S=I[0],D=I[1],C=Object(a.useState)(""),N=Object(o.a)(C,2),W=N[0],A=N[1],B=function(){var e=Object(d.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,F.register(u,k,S,W);case 3:r=e.sent,console.log("Register token received: ",r),r&&t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsx)("div",{className:n.root,children:Object(r.jsxs)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(h.a,{className:n.title,variant:"h4",children:"Register"})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)("form",{onSubmit:function(e){return B(e)},children:Object(r.jsxs)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(f.a,{children:Object(r.jsxs)(x.a,{width:350,children:[Object(r.jsx)(O.a,{htmlFor:"input-email",children:"Email"}),Object(r.jsx)(m.a,{id:"input-email",type:"text",fullWidth:!0,value:u,onInput:function(e){return l(String(e.target.value))}})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(f.a,{children:Object(r.jsxs)(x.a,{width:350,children:[Object(r.jsx)(O.a,{htmlFor:"input-first-name",children:"First Name"}),Object(r.jsx)(m.a,{id:"input-first-name",type:"text",fullWidth:!0,value:S,onInput:function(e){return D(String(e.target.value))}})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(f.a,{children:Object(r.jsxs)(x.a,{width:350,children:[Object(r.jsx)(O.a,{htmlFor:"input-last-name",children:"Last Name"}),Object(r.jsx)(m.a,{id:"input-last-name",type:"text",fullWidth:!0,value:W,onInput:function(e){return A(String(e.target.value))}})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(f.a,{children:Object(r.jsxs)(x.a,{width:350,children:[Object(r.jsx)(O.a,{htmlFor:"input-password",children:"Password"}),Object(r.jsx)(m.a,{id:"input-password",type:"password",fullWidth:!0,value:k,onInput:function(e){return w(String(e.target.value))}})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(v.a,{type:"submit",children:"Register"})})]})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(h.a,{children:["Already have an account? ",Object(r.jsx)(s.b,{to:"/login",children:"Login"})]})})]})})}var P=n(384),R=n(385),U=n(398),V=n(395),Y=n(386),_=n(387),z=n(392),K=n(388),M=n(195),J=n.n(M),H=function(){return localStorage.getItem("token")||null},q={getUserID:function(){var e=H();return e?J.a.verify(e,"1712354").sub:null},getToken:H,deleteToken:function(){return localStorage.removeItem("token")}},Q=Object(b.a)((function(){return{appbarstyle:{backgroundColor:"#2196F3"},typographyStyle:{flex:1}}}));function X(e){var t=e.userID,n=(e.onAvatarClick,Object(a.useState)(null)),c=Object(o.a)(n,2),i=c[0],s=c[1],l=Object(a.useState)(!1),b=Object(o.a)(l,2),f=b[0],O=b[1],m=Object(a.useState)(""),g=Object(o.a)(m,2),k=g[0],w=g[1],y=Object(a.useState)(""),I=Object(o.a)(y,2),S=I[0],D=I[1],C=Object(u.g)(),N=Q(),W=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,F.getUser(t);case 3:(n=e.sent)&&s(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){W(t)}),[]);var A=function(){O(!1)},B=function(){var e=Object(d.a)(j.a.mark((function e(n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=""===k?i.firstName:k,a=""===S?i.lastName:S,e.next=5,F.updateProfile(t,r,a);case 5:if(!e.sent){e.next=8;break}W(t),A();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsx)(P.a,{position:"static",className:N.appbarstyle,children:Object(r.jsxs)(R.a,{children:[Object(r.jsx)(h.a,{onClick:function(){C.push("/")},variant:"h5",className:N.typographyStyle,children:" Sprint Retrospective"}),Object(r.jsx)(U.a,{src:i?i.avatar:""}),Object(r.jsx)(v.a,{onClick:function(){i?O(!0):C.push("/login")},children:i?"Hi ".concat(i.firstName):"Login now"}),Object(r.jsx)(x.a,{display:i?"block":"none",children:Object(r.jsx)(v.a,{onClick:function(){q.deleteToken(),window.location.reload(!0)},children:"Logout"})})]})}),i?Object(r.jsxs)(V.a,{open:f,onClose:A,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(Y.a,{id:"form-dialog-title",children:"Change content"}),Object(r.jsx)(_.a,{children:Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(z.a,{autoFocus:!0,margin:"dense",id:"first-name",label:"First name",type:"text",defaultValue:i.firstName,fullWidth:!0,variant:"outlined",onChange:function(e){w(e.target.value)}})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(z.a,{autoFocus:!0,margin:"dense",id:"last-name",label:"Last name",type:"text",defaultValue:i.lastName,fullWidth:!0,variant:"outlined",onChange:function(e){D(e.target.value)}})})]})}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(v.a,{onClick:A,color:"primary",children:"Cancel"}),Object(r.jsx)(v.a,{onClick:B,color:"primary",children:"Save"})]})]}):""]})}var Z=n(389),$=n(390),ee=n(391),te=n(197),ne=n.n(te),re=n(198),ae=n.n(re),ce=n(196),ie=n.n(ce),se=Object(b.a)({root:{minWidth:200},title:{color:"#8E24AA"},pos:{marginBottom:12},modifiedDate:{fontSize:15},icon:{fontSize:15,color:"#283593",fontWeight:"bolder"}}),oe=function(e){var t=e.boardID,n=e.name,a=e.cardCount,c=e.modifiedDate,i=e.deleteAction,s=se(),o=Object(u.g)();return Object(r.jsx)(Z.a,{variant:"outlined",className:s.root,children:Object(r.jsxs)($.a,{children:[Object(r.jsx)(h.a,{variant:"h6",className:s.title,children:n}),Object(r.jsxs)(h.a,{className:s.pos,color:"textSecondary",children:[a," ",a>1?"cards":"card"]}),Object(r.jsxs)(h.a,{align:"right",className:s.modifiedDate,children:[Object(r.jsx)(ne.a,{className:s.icon}),ie()(c).format("DD/MM/YYYY")]}),Object(r.jsx)(ee.a,{align:"right","aria-label":"delete",onClick:function(){return i()},children:Object(r.jsx)(ae.a,{})}),Object(r.jsx)(v.a,{onClick:function(){o.push("/board-detail/".concat(t))},children:"Details"})]})})};function ue(e){var t=e.text,n=e.onClick;return Object(r.jsx)(x.a,{borderRadius:16,children:Object(r.jsx)(v.a,{size:"large",variant:"outlined",color:"primary",onClick:function(){n()},children:t})})}var le="https://sprint-retrospective-api.herokuapp.com";function je(){return(je=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(le,"/boards/").concat(t));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function de(){return(de=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.delete("".concat(le,"/boards/").concat(t));case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function be(){return(be=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/add"),{boardName:t,userID:n});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function pe(){return(pe=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(le,"/boards/get-by-id/").concat(t));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function he(){return(he=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get("".concat(le,"/boards/details/").concat(t));case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function fe(){return(fe=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/add-went-well/"),{boardID:t,info:n});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function xe(){return(xe=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/add-to-improve/"),{boardID:t,info:n});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/add-action-item/"),{boardID:t,info:n});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function me(){return(me=Object(d.a)(j.a.mark((function e(t,n,r){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/delete-board-detail/"),{boardID:t,column:n,info:r});case 3:if(200!==(a=e.sent).status){e.next=8;break}return e.abrupt("return",a.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ve(){return(ve=Object(d.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/update-board-name/"),{boardID:t,newName:n});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ge(){return(ge=Object(d.a)(j.a.mark((function e(t,n,r,a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(le,"/boards/update-board-detail"),{boardID:t,column:n,oldInfo:r,newInfo:a});case 3:if(200!==(c=e.sent).status){e.next=8;break}return e.abrupt("return",c.data);case 8:return e.abrupt("return",null);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var ke={getBoards:function(e){return je.apply(this,arguments)},getByID:function(e){return pe.apply(this,arguments)},addBoard:function(e,t){return be.apply(this,arguments)},getBoardDetail:function(e){return he.apply(this,arguments)},addWentWell:function(e,t){return fe.apply(this,arguments)},addToImprove:function(e,t){return xe.apply(this,arguments)},addActionItem:function(e,t){return Oe.apply(this,arguments)},deleteBoard:function(e){return de.apply(this,arguments)},deleteBoardDetail:function(e,t,n){return me.apply(this,arguments)},updateBoardName:function(e,t){return ve.apply(this,arguments)},updateItemContent:function(e,t,n,r){return ge.apply(this,arguments)}},we=function(e){var t=e.userID,n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],s=c[1],u=Object(a.useState)(!0),l=Object(o.a)(u,2),b=l[0],f=l[1],x=Object(a.useState)(!1),O=Object(o.a)(x,2),m=O[0],g=O[1],k=Object(a.useState)(""),w=Object(o.a)(k,2),y=w[0],I=w[1],S=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,ke.getBoards(t);case 3:(n=e.sent)&&(s(n),f(!1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S(t)}),[]);var D=function(){g(!1)},C=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ke.addBoard(y,t);case 3:S(t),D();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=[];if(N.push(Object(r.jsx)(p.a,{item:!0,sx:4,children:Object(r.jsx)(ue,{text:"add",onClick:function(){g(!0)}})},i&&i.length||0)),i&&0!==i.length)for(var W=function(e){N.push(Object(r.jsx)(p.a,{item:!0,sx:4,children:Object(r.jsx)(oe,{boardID:i[e]._id,name:i[e].name,modifiedDate:i[e].modifiedDate,cardCount:i[e].cardCount,deleteAction:Object(d.a)(j.a.mark((function n(){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ke.deleteBoard(i[e]._id);case 2:return n.next=4,S(t);case 4:case"end":return n.stop()}}),n)})))})},e))},A=0;A<i.length;A++)W(A);return b?Object(r.jsx)(h.a,{children:"Loading..."}):Object(r.jsxs)("div",{children:[Object(r.jsx)(p.a,{container:!0,spacing:3,children:N}),Object(r.jsxs)(V.a,{open:m,onClose:D,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(Y.a,{id:"form-dialog-title",children:"Add new Board"}),Object(r.jsx)(_.a,{children:Object(r.jsx)(z.a,{autoFocus:!0,margin:"dense",id:"name",label:"Board name",type:"text",fullWidth:!0,variant:"outlined",onChange:function(e){I(e.target.value)}})}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(v.a,{onClick:D,color:"primary",children:"Cancel"}),Object(r.jsx)(v.a,{onClick:C,color:"primary",children:"Add"})]})]})]})},ye=Object(b.a)((function(){return{titleStyles:{marginBlockStart:25,color:"#283593",fontWeight:"bold"}}}));function Ie(e){var t=e.userID,n=ye();return Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(X,{userID:t,onAvatarClick:function(){console.log("avatar clicked")}})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(x.a,{m:3,children:Object(r.jsx)(h.a,{display:"block",variant:"h5",className:n.titleStyles,children:"My boards"})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(x.a,{ml:3,children:Object(r.jsx)(h.a,{display:"block",variant:"h6",className:n.titleStyles,children:"Public boards"})})}),Object(r.jsxs)(p.a,{item:!0,container:!0,children:[Object(r.jsx)(p.a,{item:!0,xs:1}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(we,{userID:t})}),Object(r.jsx)(p.a,{item:!0,xs:1})]})]})}var Se=n(200);function De(e){var t=e.boardID,n=e.columnName,c=e.info,i=e.onActionSucess,s=Object(a.useState)(!1),u=Object(o.a)(s,2),l=u[0],b=u[1],h=Object(a.useState)(""),f=Object(o.a)(h,2),x=f[0],O=f[1],m=function(){b(!1)},g=function(){var e=Object(d.a)(j.a.mark((function e(r){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,ke.updateItemContent(t,n,c,x);case 3:if(!e.sent){e.next=5;break}i();case 5:m();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)(Se.a,{elevation:3,children:[Object(r.jsx)(p.a,{container:!0,direction:"row",children:Object(r.jsx)(p.a,{item:!0,children:c})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(v.a,{onClick:Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.deleteBoardDetail(t,n,c);case 2:if(!e.sent){e.next=4;break}i();case 4:case"end":return e.stop()}}),e)}))),children:"Delete"})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(v.a,{onClick:function(){b(!0)},children:"Update"})})]})})]}),Object(r.jsxs)(V.a,{open:l,onClose:m,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(Y.a,{id:"form-dialog-title",children:"Change content"}),Object(r.jsx)(_.a,{children:Object(r.jsx)(z.a,{autoFocus:!0,margin:"dense",id:"name",label:"Item's content",type:"text",defaultValue:c,fullWidth:!0,variant:"outlined",onChange:function(e){O(e.target.value)}})}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(v.a,{onClick:m,color:"primary",children:"Cancel"}),Object(r.jsx)(v.a,{onClick:g,color:"primary",children:"Save"})]})]})]})}function Ce(e){var t=e.boardID,n=Object(a.useState)(null),c=Object(o.a)(n,2),i=c[0],s=c[1],u=Object(a.useState)(null),l=Object(o.a)(u,2),f=l[0],O=l[1],m=Object(a.useState)(null),g=Object(o.a)(m,2),k=g[0],w=g[1],y=Object(a.useState)(""),I=Object(o.a)(y,2),S=I[0],D=I[1],C=Object(a.useState)(""),N=Object(o.a)(C,2),W=N[0],A=N[1],B=Object(a.useState)(""),F=Object(o.a)(B,2),L=F[0],T=F[1],G=Object(b.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}))(),E=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getBoardDetail(t);case 2:(n=e.sent)?(s(n.wentWell),O(n.toImprove),w(n.actionItems)):console.log("Not have board details");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){E(t)}),[]);var P=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ke.addWentWell(t,S);case 3:if(!e.sent){e.next=5;break}E(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ke.addToImprove(t,W);case 3:if(!e.sent){e.next=5;break}E(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ke.addActionItem(t,L);case 3:if(!e.sent){e.next=5;break}E(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=[];if(i&&0!==i.length)for(var Y=0;Y<i.length;Y++)V.push(Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(De,{boardID:t,columnName:"WentWell",info:i[Y],onActionSucess:Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:case"end":return e.stop()}}),e)})))})},Y));var _=[];if(f&&0!==f.length)for(var K=0;K<f.length;K++)_.push(Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(De,{boardID:t,columnName:"ToImprove",info:f[K],onActionSucess:Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:case"end":return e.stop()}}),e)})))})},K));var M=[];if(k&&0!==k.length)for(var J=0;J<k.length;J++)M.push(Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(De,{boardID:t,columnName:"actionItems",info:k[J],onActionSucess:Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:case"end":return e.stop()}}),e)})))})},J));return Object(r.jsx)("div",{className:G.root,children:Object(r.jsxs)(p.a,{container:!0,justify:"space-evenly",alignItems:"flex-start",spacing:3,children:[Object(r.jsx)(p.a,{item:!0,xs:4,children:Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(h.a,{align:"center",variant:"h6",children:"Went well"})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(p.a,{item:!0,xs:10,children:Object(r.jsx)(z.a,{type:"text",variant:"filled",label:"Info",onChange:function(e){D(e.target.value)}})}),Object(r.jsx)(p.a,{item:!0,xs:2,children:Object(r.jsx)(x.a,{children:Object(r.jsx)(v.a,{onClick:P,children:"Add"})})})]})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(p.a,{container:!0,justify:"space-between",alignItems:"center",direction:"column-reverse",children:V})})]})}),Object(r.jsx)(p.a,{item:!0,xs:4,children:Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(h.a,{align:"center",variant:"h6",children:"To Improve"})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(p.a,{item:!0,xs:10,children:Object(r.jsx)(z.a,{type:"text",variant:"filled",label:"Info",onChange:function(e){A(e.target.value)}})}),Object(r.jsx)(p.a,{item:!0,xs:2,children:Object(r.jsx)(x.a,{children:Object(r.jsx)(v.a,{onClick:R,children:"Add"})})})]})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(p.a,{container:!0,justify:"space-between",alignItems:"center",direction:"column-reverse",children:_})})]})}),Object(r.jsx)(p.a,{item:!0,xs:4,children:Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(h.a,{align:"center",variant:"h6",children:"Action Items"})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(p.a,{container:!0,alignItems:"center",children:[Object(r.jsx)(p.a,{item:!0,xs:10,children:Object(r.jsx)(z.a,{type:"text",variant:"filled",label:"Info",onChange:function(e){T(e.target.value)}})}),Object(r.jsx)(p.a,{item:!0,xs:2,children:Object(r.jsx)(x.a,{children:Object(r.jsx)(v.a,{onClick:U,children:"Add"})})})]})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(p.a,{container:!0,justify:"space-between",alignItems:"center",direction:"column-reverse",children:M})})]})})]})})}var Ne=Object(b.a)((function(){return{titleStyles:{marginBlockStart:25,color:"#283593",fontWeight:"bold"}}}));function We(e){var t=e.userID,n=Object(u.h)().boardID,c=Object(a.useState)(null),i=Object(o.a)(c,2),s=i[0],l=i[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),O=f[0],m=f[1],g=Object(a.useState)(!1),k=Object(o.a)(g,2),w=k[0],y=k[1],I=Ne(),S=function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke.getByID(t);case 2:(n=e.sent)&&l(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S(n)}),[]);var D=function(){y(!1)},C=function(){var e=Object(d.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ke.updateBoardName(n,O);case 3:if(!e.sent){e.next=5;break}S(n);case 5:D();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{children:[Object(r.jsxs)(p.a,{container:!0,direction:"column",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(X,{userID:t,onAvatarClick:function(){console.log("avatar clicked")}})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsxs)(p.a,{container:!0,alignItems:"baseline",children:[Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(x.a,{m:3,children:Object(r.jsx)(h.a,{display:"block",variant:"h5",className:I.titleStyles,children:s?s.name:"Loading..."})})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(v.a,{onClick:function(){y(!0)},children:"Edit"})})]})}),Object(r.jsx)(p.a,{item:!0,children:Object(r.jsx)(Ce,{boardID:n})})]}),Object(r.jsxs)(V.a,{open:w,onClose:D,"aria-labelledby":"form-dialog-title",children:[Object(r.jsx)(Y.a,{id:"form-dialog-title",children:"Change Board's name"}),Object(r.jsx)(_.a,{children:Object(r.jsx)(z.a,{autoFocus:!0,margin:"dense",id:"name",label:"Board name",type:"text",defaultValue:s?s.name:"",fullWidth:!0,variant:"outlined",onChange:function(e){m(e.target.value)}})}),Object(r.jsxs)(K.a,{children:[Object(r.jsx)(v.a,{onClick:D,color:"primary",children:"Cancel"}),Object(r.jsx)(v.a,{onClick:C,color:"primary",children:"Save"})]})]})]})}function Ae(e){var t=Object(a.useState)(q.getUserID),n=Object(o.a)(t,2),c=n[0],i=n[1],s=Object(u.g)();return Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{exact:!0,path:"/login",children:c?Object(r.jsx)(u.a,{to:"/"}):Object(r.jsx)(T,{onSuccess:function(){i(q.getUserID)}})}),Object(r.jsx)(u.b,{exact:!0,path:"/register",children:c?Object(r.jsx)(u.a,{to:"/"}):Object(r.jsx)(E,{onSuccess:function(){s.replace("/login")}})}),Object(r.jsx)(u.b,{path:"/board-detail/:boardID",children:Object(r.jsx)(We,{userID:c})}),Object(r.jsx)(u.b,{path:"/board-detail",children:Object(r.jsx)(u.a,{to:"/login"})}),Object(r.jsx)(u.b,{exact:!0,path:"/",children:c?Object(r.jsx)(Ie,{userID:c,logoutAction:function(){q.deleteToken(),i(null)}}):Object(r.jsx)(u.a,{to:"/login"})})]})}i.a.render(Object(r.jsx)(s.a,{basename:"/sprint-retrospective-react",children:Object(r.jsx)(Ae,{})}),document.getElementById("root"))}},[[349,1,2]]]);
//# sourceMappingURL=main.7f6e1177.chunk.js.map