(this["webpackJsonpsprint-retrospective-react"]=this["webpackJsonpsprint-retrospective-react"]||[]).push([[0],{65:function(e,t,r){},91:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),c=r.n(a),s=r(20),i=r.n(s),o=(r(65),r(9)),u=r.n(o),l=r(13),j=r(18),b=r(107),d=r(113),p=r(114),h=r(110),x=r(108),f=r(109),O=r(118),m=r(115),v=Object(b.a)((function(){return{appbarstyle:{backgroundColor:"#2196F3"},typographyStyle:{flex:1}}})),g=function(e){var t=e.userName,r=e.avatar,a=v();return Object(n.jsx)(x.a,{position:"static",className:a.appbarstyle,children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(h.a,{variant:"h5",className:a.typographyStyle,children:"Sprint Retrospective"}),Object(n.jsx)(O.a,{src:r}),Object(n.jsxs)(m.a,{children:["Hi ",t]})]})})},y=r(111),w=r(112),k=r(51),S=r.n(k),N=r(50),D=r.n(N),I=Object(b.a)({root:{minWidth:200},title:{color:"#8E24AA"},pos:{marginBottom:12},modifiedDate:{fontSize:15},icon:{fontSize:15,color:"#283593",fontWeight:"bolder"}}),W=function(e){var t=e.name,r=e.cardCount,a=e.modifiedDate,c=I();return Object(n.jsx)(y.a,{variant:"outlined",className:c.root,children:Object(n.jsxs)(w.a,{children:[Object(n.jsx)(h.a,{variant:"h6",className:c.title,children:t}),Object(n.jsxs)(h.a,{className:c.pos,color:"textSecondary",children:[r," ",r>1?"cards":"card"]}),Object(n.jsxs)(h.a,{align:"right",className:c.modifiedDate,children:[Object(n.jsx)(S.a,{className:c.icon}),D()(a).format("DD/MM/YYYY")]})]})})},A=function(e){var t=e.boardList,r=Array.from(t),a=[];if(0!==r.length)for(var c=0;c<r.length;c++)a.push(Object(n.jsx)(d.a,{item:!0,sx:4,children:Object(n.jsx)(W,{name:r[c].name,modifiedDate:r[c].modifiedDate,cardCount:r[c].cardCount})},c));return Object(n.jsx)(d.a,{container:!0,spacing:3,children:a})};function B(){return Object(n.jsx)(p.a,{borderRadius:16,children:Object(n.jsx)(m.a,{size:"large",variant:"outlined",color:"primary"})})}var C=r(120),E=r(119),L=r(116),M=new(r(52).a);var Y={write:function(e,t){return M.set(e,t)},read:function(e){return M.get(e)},clear:function(e){return M.remove(e)}},z=r(29),F=r.n(z);function J(){return(J=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("https://sprint-retrospective-api.herokuapp.com/users/".concat(t));case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function P(){return(P=Object(l.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("https://sprint-retrospective-api.herokuapp.com/users/",{email:t,password:r});case 3:if(200!==(n=e.sent).status){e.next=8;break}return e.abrupt("return",n.data);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var R={login:function(e,t){return P.apply(this,arguments)},getUser:function(e){return J.apply(this,arguments)}},U=Object(b.a)((function(e){return{root:{flexGrow:1,padding:50},title:{color:"#283593",fontWeight:"bold"}}}));function G(e){var t=e.loginSuccessAction,r=Object(a.useState)(""),c=Object(j.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(""),b=Object(j.a)(o,2),x=b[0],f=b[1],O=U(),v=function(){var e=Object(l.a)(u.a.mark((function e(r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,R.login(s,x);case 3:n=e.sent,Y.write("userID",n),t();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:O.root,children:Object(n.jsxs)(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(h.a,{className:O.title,variant:"h4",children:"Login"})}),Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)("form",{onSubmit:function(e){return v(e)},children:Object(n.jsxs)(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,children:[Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(C.a,{children:Object(n.jsxs)(p.a,{width:350,children:[Object(n.jsx)(E.a,{htmlFor:"input-email",children:"Email"}),Object(n.jsx)(L.a,{id:"input-email",type:"text",fullWidth:!0,value:s,onInput:function(e){return i(String(e.target.value))}})]})})}),Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(C.a,{children:Object(n.jsxs)(p.a,{width:350,children:[Object(n.jsx)(E.a,{htmlFor:"input-password",children:"Password"}),Object(n.jsx)(L.a,{id:"input-password",type:"password",fullWidth:!0,value:x,onInput:function(e){return f(String(e.target.value))}})]})})}),Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(m.a,{type:"submit",children:"Submit"})})]})})})]})})}function H(){return(H=Object(l.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("https://sprint-retrospective-api.herokuapp.com/boards/".concat(t));case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",r.data);case 8:return e.abrupt("return",null);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var q={getBoards:function(e){return H.apply(this,arguments)}},K=Object(b.a)((function(){return{titleStyles:{marginBlockStart:25,color:"#283593",fontWeight:"bold"}}}));function Q(){var e=Object(a.useState)(null),t=Object(j.a)(e,2),r=t[0],c=t[1],s=Object(a.useState)(null),i=Object(j.a)(s,2),o=i[0],b=i[1],x=Object(a.useState)(!0),f=Object(j.a)(x,2),O=f[0],m=f[1],v=K(),y=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=8;break}if(!(t=Y.read("userID"))){e.next=8;break}return R.getUser(t).then((function(e){e&&b(e)})),e.next=6,q.getBoards(t);case 6:(r=e.sent)&&(c(r),m(!1));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y()})),o?Object(n.jsxs)(d.a,{container:!0,direction:"column",children:[Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(g,{userName:o.firstName,avatar:o.avatar})}),Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(p.a,{m:3,children:Object(n.jsx)(h.a,{display:"block",variant:"h5",className:v.titleStyles,children:"My boards"})})}),Object(n.jsx)(d.a,{item:!0,children:Object(n.jsx)(p.a,{ml:3,children:Object(n.jsx)(h.a,{display:"block",variant:"h6",className:v.titleStyles,children:"Public boards"})})}),Object(n.jsxs)(d.a,{item:!0,container:!0,children:[Object(n.jsx)(d.a,{item:!0,xs:1}),Object(n.jsx)(d.a,{item:!0,children:O?Object(n.jsx)(h.a,{children:"Loading..."}):Object(n.jsx)(A,{boardList:r})}),Object(n.jsx)(B,{}),Object(n.jsx)(d.a,{item:!0,xs:1})]})]}):Object(n.jsx)(G,{loginSuccessAction:function(){return y()}})}i.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.bc006c1e.chunk.js.map